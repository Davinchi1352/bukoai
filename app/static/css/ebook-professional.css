/* 
 * Estilos Profesionales para Ebooks Comerciales
 * Buko AI - Sistema de Formateo Profesional
 */

/* Variables CSS para personalización */
:root {
    /* Colores principales */
    --ebook-text-color: #1a1a1a;
    --ebook-bg-color: #ffffff;
    --ebook-accent-color: #2563eb;
    --ebook-secondary-color: #64748b;
    --ebook-border-color: #e5e7eb;
    --ebook-shadow-color: rgba(0, 0, 0, 0.1);
    
    /* Tipografía */
    --ebook-font-serif: 'Crimson Pro', 'Georgia', 'Times New Roman', serif;
    --ebook-font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --ebook-font-mono: 'JetBrains Mono', 'Courier New', monospace;
    
    /* Tamaños de fuente */
    --ebook-font-size-base: 16px;
    --ebook-font-size-small: 14px;
    --ebook-font-size-large: 18px;
    --ebook-font-size-h1: 36px;
    --ebook-font-size-h2: 28px;
    --ebook-font-size-h3: 22px;
    --ebook-font-size-h4: 18px;
    
    /* Espaciado */
    --ebook-line-height: 1.6;
    --ebook-paragraph-spacing: 1.5em;
    --ebook-indent: 1.5em;
    
    /* Márgenes de página */
    --ebook-margin-top: 72px;
    --ebook-margin-bottom: 96px;
    --ebook-margin-left: 72px;
    --ebook-margin-right: 72px;
}

/* Reset y base */
.ebook-body {
    font-family: var(--ebook-font-serif);
    font-size: var(--ebook-font-size-base);
    line-height: var(--ebook-line-height);
    color: var(--ebook-text-color);
    background-color: var(--ebook-bg-color);
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Contenedor principal */
.ebook-container {
    max-width: 800px;
    margin: 0 auto;
    padding: var(--ebook-margin-top) var(--ebook-margin-right) var(--ebook-margin-bottom) var(--ebook-margin-left);
    background: white;
    box-shadow: 0 0 60px var(--ebook-shadow-color);
}

/* Elementos estructurales */
.ebook-book-title {
    font-size: var(--ebook-font-size-h1);
    font-weight: 700;
    text-align: center;
    margin-bottom: 3em;
    page-break-after: always;
    letter-spacing: -0.02em;
}

.chapter-container {
    page-break-before: always;
    margin-top: 4em;
}

.ebook-chapter-title {
    font-size: var(--ebook-font-size-h2);
    font-weight: 600;
    text-align: center;
    margin: 2em 0 1.5em 0;
    color: var(--ebook-accent-color);
}

.ebook-section {
    font-size: var(--ebook-font-size-h3);
    font-weight: 600;
    margin: 2em 0 1em 0;
    color: var(--ebook-text-color);
}

.ebook-subsection {
    font-size: var(--ebook-font-size-h4);
    font-weight: 500;
    margin: 1.5em 0 0.75em 0;
    color: var(--ebook-secondary-color);
}

/* Párrafos */
.ebook-paragraph {
    margin: 0 0 var(--ebook-paragraph-spacing) 0;
    text-align: justify;
    hyphens: auto;
}

.ebook-paragraph:first-of-type {
    text-indent: 0;
}

.ebook-paragraph + .ebook-paragraph {
    text-indent: var(--ebook-indent);
}

/* Drop caps para primer párrafo de capítulo */
.chapter-container > .ebook-paragraph:first-of-type:first-letter {
    float: left;
    font-size: 4em;
    line-height: 0.8;
    margin: 0.1em 0.1em 0 0;
    font-weight: 700;
    color: var(--ebook-accent-color);
}

/* Expresiones numeradas */
.expression-container {
    background: linear-gradient(to right, var(--ebook-accent-color) 4px, transparent 4px);
    padding: 1em 1em 1em 2em;
    margin: 2em 0;
    border-radius: 0 8px 8px 0;
    box-shadow: 0 2px 8px var(--ebook-shadow-color);
}

.numbered-expression {
    font-weight: 600;
    color: var(--ebook-accent-color);
    margin-bottom: 0.5em;
}

.expr-number {
    display: inline-block;
    min-width: 2em;
    font-weight: 700;
}

.expr-text {
    font-size: 1.1em;
}

/* Transcripción fonética */
.phonetic-transcription {
    font-family: var(--ebook-font-mono);
    font-style: italic;
    color: var(--ebook-secondary-color);
    background: rgba(100, 116, 139, 0.1);
    padding: 0.25em 0.5em;
    border-radius: 4px;
    font-size: 0.95em;
}

/* Traducciones */
.translation-literal,
.translation-contextual {
    margin: 0.5em 0;
    padding-left: 1em;
}

.translation-label {
    font-weight: 600;
    color: var(--ebook-accent-color);
}

.translation-text {
    font-style: italic;
}

/* Uso y ejemplos */
.usage-description,
.example-sentence {
    margin: 0.75em 0;
    padding-left: 1em;
    border-left: 2px solid var(--ebook-border-color);
}

.usage-label,
.example-label {
    font-weight: 600;
    color: var(--ebook-secondary-color);
    margin-right: 0.5em;
}

/* Listas */
.ebook-list {
    margin: 1em 0;
    padding-left: 2em;
}

.ebook-list-item {
    margin: 0.5em 0;
    line-height: var(--ebook-line-height);
}

/* Separadores */
.ebook-separator {
    border: none;
    height: 1px;
    background: var(--ebook-border-color);
    margin: 3em auto;
    width: 50%;
}

/* Tabla de contenidos */
.ebook-toc {
    page-break-after: always;
    margin-bottom: 4em;
}

.ebook-toc h2 {
    font-size: var(--ebook-font-size-h2);
    text-align: center;
    margin-bottom: 2em;
}

.toc-list {
    list-style: none;
    padding: 0;
}

.toc-list li {
    margin: 0.75em 0;
    border-bottom: 1px dotted var(--ebook-border-color);
    padding-bottom: 0.5em;
}

.toc-list a {
    text-decoration: none;
    color: var(--ebook-text-color);
    display: flex;
    justify-content: space-between;
    align-items: baseline;
}

.toc-list a::after {
    content: attr(data-page);
    color: var(--ebook-secondary-color);
    font-size: 0.9em;
}

.toc-list a:hover {
    color: var(--ebook-accent-color);
}

.toc-sublist {
    margin-left: 2em;
    margin-top: 0.5em;
}

/* Índice */
.ebook-index {
    page-break-before: always;
    columns: 2;
    column-gap: 2em;
}

.ebook-index h2 {
    column-span: all;
    font-size: var(--ebook-font-size-h2);
    text-align: center;
    margin-bottom: 2em;
}

.index-entry {
    margin: 0.5em 0;
    break-inside: avoid;
}

.index-term {
    font-weight: 600;
    margin-right: 0.5em;
}

.index-locations {
    color: var(--ebook-secondary-color);
    font-size: 0.9em;
}

/* Estilos inline */
.ebook-content strong {
    font-weight: 600;
    color: var(--ebook-text-color);
}

.ebook-content em {
    font-style: italic;
}

.ebook-content code {
    font-family: var(--ebook-font-mono);
    background: rgba(0, 0, 0, 0.05);
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-size: 0.9em;
}

/* Imágenes y figuras */
.ebook-figure {
    margin: 2em 0;
    text-align: center;
}

.ebook-figure img {
    max-width: 100%;
    height: auto;
    box-shadow: 0 4px 12px var(--ebook-shadow-color);
}

.ebook-figure figcaption {
    margin-top: 1em;
    font-size: 0.9em;
    color: var(--ebook-secondary-color);
    font-style: italic;
}

/* Páginas especiales */
.copyright-page,
.dedication-page,
.about-author-page {
    page-break-before: always;
    text-align: center;
    padding: 4em 2em;
    font-style: italic;
}

/* Responsive para vista previa */
@media screen and (max-width: 768px) {
    .ebook-container {
        padding: 2em 1em;
        box-shadow: none;
    }
    
    .ebook-index {
        columns: 1;
    }
}

/* Estilos de impresión */
@media print {
    .ebook-body {
        font-size: 11pt;
        line-height: 1.5;
    }
    
    .ebook-container {
        max-width: 100%;
        margin: 0;
        padding: 0;
        box-shadow: none;
    }
    
    .chapter-container {
        page-break-before: always;
    }
    
    .ebook-toc,
    .ebook-index {
        page-break-before: always;
    }
    
    a {
        text-decoration: none;
        color: inherit;
    }
}

/* Animaciones sutiles */
.expression-container {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.expression-container:hover {
    transform: translateX(4px);
    box-shadow: 0 4px 16px var(--ebook-shadow-color);
}

/* Modo oscuro */
@media (prefers-color-scheme: dark) {
    :root {
        --ebook-text-color: #e5e5e5;
        --ebook-bg-color: #1a1a1a;
        --ebook-accent-color: #3b82f6;
        --ebook-secondary-color: #94a3b8;
        --ebook-border-color: #374151;
        --ebook-shadow-color: rgba(0, 0, 0, 0.5);
    }
    
    .ebook-container {
        background: #262626;
    }
    
    .phonetic-transcription {
        background: rgba(148, 163, 184, 0.1);
    }
    
    .ebook-content code {
        background: rgba(255, 255, 255, 0.1);
    }
}